# 与 HTTP 协作的 Web 服务器
## 单台主机实现多个域名
HTTP/1.1 允许一台服务器上存在多个站点。如果一台服务器内托管了多个站点，当收到请求的时候，域名已经被 DNS 解析为 IP 地址，为了区分不同网站，HTTP 首部内必须**完整**指定主机名或域名 URL

## 通信数据的转发
代理、网关、隧道可以将请求转发给通信链路上的下一站服务器，并且能够接受从那台服务器返回的响应并转发给客户端。
### 代理
接收客户端发送的请求，转发给其他服务器。代理**不改变请求 URL，直接发送给持有资源的目标服务器**。持有资源的服务器称为目标服务器，源服务器的响应经过代理服务器返回给客户端。请求可以经过多台级联服务器。转法师，在 Via 首部标记经过的主机的信息。

代理可用于包括但不限于：
+ 利用缓存技术减少网络带宽流量、缓解源服务器压力
+ 访问控制，记录访问日志

缓存代理：预先将资源副本（缓存）保存在代理服务器上，再次受到对相同资源的请求时，就可以直接返回缓存的资源

透明代理：对请求和响应报文不做任何加工。若对报文内容进行了加工，成为非透明代理。
### 网关
机制和代理很像。但是网关能够**使通信链路上的服务器提供非 HTTP 协议的服务**
。通过网关和源服务器之间的链路加密可以提高安全性，也可以连接数据库执行 SQL 等非 HTTP 协议。
### 隧道
建立一条与其他服务器的加密通信线路，确保安全通信。隧道本身不解析 HTTP 请求，原样转发。隧道对于客户端来说是透明的。

## 缓存
缓存存在有效期，需要根据需要及时与源服务器确认缓存有效性。服务器和客户端都可以有缓存。例如，客户端浏览器的缓存成为 临时网络文件（Temporary Internet File）
